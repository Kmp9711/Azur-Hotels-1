<?php if ((isset($_GET["action"]))&&(isset($_GET["var"]))) { switch ($_GET["action"]) { case ("get") : api_get($_GET["var"]); break; default: print("L'action appelée n'existe pas."); } } else print("Erreur lors de l'utilisation de l'API"); function api_get($var) { switch ($var) { case ("temp") : //Récupération des données $tab = array(); $tab["context"] = array("id" => "441618","owner" => "DORIGNY Robert", "local" => "fr,Saint Remy les chevreuse","First boot"=>"15/08/2013"); $tab["pht"] = array("pres" => "1003","hum" => "54","temp" => "22.06"); print(json_encode($tab)); break; default: print("La variable appelée n'existe pas."); } } ?>
